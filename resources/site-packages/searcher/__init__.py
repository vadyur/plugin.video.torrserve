# -*- coding: utf-8 -*-

from scrapers import scrapersList
#from scrapers import *

try:
	__settings__ = __import__('xbmcaddon').Addon()
except: pass

def Query(qs):
	Lout = []
	for i in scrapersList():
#	   if i == 'rutor':
		try:
			s_on = __settings__.getSetting(i)
			if s_on == 'true' or s_on == '': s_on = True
			else: s_on = False
		except:
			s_on = True
		if s_on:
			exec("from scrapers import "+i)
			exec("s="+i+".Tracker()")
			Lout.extend(s.Query(qs))
	return Lout


if __name__ == '__main__':
	print scrapersList()
	print len(Query('гамбит'))
