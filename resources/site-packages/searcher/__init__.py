# -*- coding: utf-8 -*-

from __future__ import absolute_import
from searcher.scrapers import scrapersList

try:
    __settings__ = __import__('xbmcaddon').Addon()
except: pass

def Query(qs):
    Lout = []
    for i in scrapersList():
        try:
            s_on = __settings__.getSetting(i)
            if s_on == 'true' or s_on == '': s_on = True
            else: s_on = False
        except:
            s_on = True
        if s_on:
            import importlib
            module = importlib.import_module('searcher.scrapers.' + i)
            s=module.Tracker()
            Lout.extend(s.Query(qs))
    return Lout


if __name__ == '__main__':
    print (scrapersList())
    print (len(Query('гамбит')))
